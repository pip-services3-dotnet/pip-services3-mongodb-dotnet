<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pip-Services-MongoDb-Dotnet: PipServices3.MongoDb.Persistence.MongoDbPersistence&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pip-Services-MongoDb-Dotnet
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_pip_services3.html">PipServices3</a></li><li class="navelem"><a class="el" href="namespace_pip_services3_1_1_mongo_db.html">MongoDb</a></li><li class="navelem"><a class="el" href="namespace_pip_services3_1_1_mongo_db_1_1_persistence.html">Persistence</a></li><li class="navelem"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">MongoDbPersistence</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PipServices3.MongoDb.Persistence.MongoDbPersistence&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract persistence component that stores data in MongoDB using the official MongoDB driver.  
 <a href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for PipServices3.MongoDb.Persistence.MongoDbPersistence&lt; T &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.png" usemap="#PipServices3.MongoDb.Persistence.MongoDbPersistence_3C_20T_20_3E_map" alt=""/>
  <map id="PipServices3.MongoDb.Persistence.MongoDbPersistence_3C_20T_20_3E_map" name="PipServices3.MongoDb.Persistence.MongoDbPersistence_3C_20T_20_3E_map">
<area href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_identifiable_mongo_db_persistence.html" title="Abstract persistence component that stores data in MongoDB and implements a number of CRUD operations..." alt="PipServices3.MongoDb.Persistence.IdentifiableMongoDbPersistence&lt; T, K &gt;" shape="rect" coords="920,112,1370,136"/>
<area href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_partition_mongo_db_persistence.html" title="Abstract persistence component that stores data in MongoDB and implements a number of CRUD operations..." alt="PipServices3.MongoDb.Persistence.PartitionMongoDbPersistence&lt; T, K &gt;" shape="rect" coords="920,168,1370,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac9e761f90305d58b651b134dcd76a98c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ac9e761f90305d58b651b134dcd76a98c">MongoDbPersistence</a> (string collectionName)</td></tr>
<tr class="memdesc:ac9e761f90305d58b651b134dcd76a98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new instance of the persistence component.  <a href="#ac9e761f90305d58b651b134dcd76a98c">More...</a><br /></td></tr>
<tr class="separator:ac9e761f90305d58b651b134dcd76a98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99258440fb07e25ebf5606847e756ce"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aa99258440fb07e25ebf5606847e756ce">Configure</a> (ConfigParams config)</td></tr>
<tr class="memdesc:aa99258440fb07e25ebf5606847e756ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures component by passing configuration parameters.  <a href="#aa99258440fb07e25ebf5606847e756ce">More...</a><br /></td></tr>
<tr class="separator:aa99258440fb07e25ebf5606847e756ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8437dd9311676e495ba605187ffb225e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a8437dd9311676e495ba605187ffb225e">SetReferences</a> (IReferences references)</td></tr>
<tr class="memdesc:a8437dd9311676e495ba605187ffb225e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets references to dependent components.  <a href="#a8437dd9311676e495ba605187ffb225e">More...</a><br /></td></tr>
<tr class="separator:a8437dd9311676e495ba605187ffb225e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622669b0551a4f0dd26a3af5c3a2a04a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a622669b0551a4f0dd26a3af5c3a2a04a">UnsetReferences</a> ()</td></tr>
<tr class="memdesc:a622669b0551a4f0dd26a3af5c3a2a04a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsets (clears) previously set references to dependent components.  <a href="#a622669b0551a4f0dd26a3af5c3a2a04a">More...</a><br /></td></tr>
<tr class="separator:a622669b0551a4f0dd26a3af5c3a2a04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369338252297f12b59766d853b4c265d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a369338252297f12b59766d853b4c265d">IsOpen</a> ()</td></tr>
<tr class="memdesc:a369338252297f12b59766d853b4c265d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the component is opened.  <a href="#a369338252297f12b59766d853b4c265d">More...</a><br /></td></tr>
<tr class="separator:a369338252297f12b59766d853b4c265d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc2ef4b8af953d86d3ff1140b4b63e4"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a0bc2ef4b8af953d86d3ff1140b4b63e4">OpenAsync</a> (string correlationId)</td></tr>
<tr class="memdesc:a0bc2ef4b8af953d86d3ff1140b4b63e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the component.  <a href="#a0bc2ef4b8af953d86d3ff1140b4b63e4">More...</a><br /></td></tr>
<tr class="separator:a0bc2ef4b8af953d86d3ff1140b4b63e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae921b9949493fa24035a05fb77c9a61e"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ae921b9949493fa24035a05fb77c9a61e">CloseAsync</a> (string correlationId)</td></tr>
<tr class="memdesc:ae921b9949493fa24035a05fb77c9a61e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes component and frees used resources.  <a href="#ae921b9949493fa24035a05fb77c9a61e">More...</a><br /></td></tr>
<tr class="separator:ae921b9949493fa24035a05fb77c9a61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51639f1bc144815f5d6cf56a330affc"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#af51639f1bc144815f5d6cf56a330affc">ClearAsync</a> (string correlationId)</td></tr>
<tr class="memdesc:af51639f1bc144815f5d6cf56a330affc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears component state.  <a href="#af51639f1bc144815f5d6cf56a330affc">More...</a><br /></td></tr>
<tr class="separator:af51639f1bc144815f5d6cf56a330affc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f68a04c0e2746647fedf606d9f10de"><td class="memItemLeft" align="right" valign="top">virtual async Task&lt; DataPage&lt; T &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aa7f68a04c0e2746647fedf606d9f10de">GetPageByFilterAsync</a> (string correlationId, FilterDefinition&lt; T &gt; filterDefinition, PagingParams paging=null, SortDefinition&lt; T &gt; sortDefinition=null)</td></tr>
<tr class="memdesc:aa7f68a04c0e2746647fedf606d9f10de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a page of data items retrieved by a given filter and sorted according to sort parameters.  <a href="#aa7f68a04c0e2746647fedf606d9f10de">More...</a><br /></td></tr>
<tr class="separator:aa7f68a04c0e2746647fedf606d9f10de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25792316934892e0f0454ab8b3d9554"><td class="memItemLeft" align="right" valign="top">virtual async Task&lt; List&lt; T &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ac25792316934892e0f0454ab8b3d9554">GetListByFilterAsync</a> (string correlationId, FilterDefinition&lt; T &gt; filterDefinition, SortDefinition&lt; T &gt; sortDefinition=null)</td></tr>
<tr class="memdesc:ac25792316934892e0f0454ab8b3d9554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a list of data items retrieved by a given filter and sorted according to sort parameters.  <a href="#ac25792316934892e0f0454ab8b3d9554">More...</a><br /></td></tr>
<tr class="separator:ac25792316934892e0f0454ab8b3d9554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4908817ea2e4486479c1bed5ba5d63"><td class="memItemLeft" align="right" valign="top">virtual async Task&lt; long &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a0d4908817ea2e4486479c1bed5ba5d63">GetCountByFilterAsync</a> (string correlationId, FilterDefinition&lt; T &gt; filterDefinition)</td></tr>
<tr class="memdesc:a0d4908817ea2e4486479c1bed5ba5d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a number of data items retrieved by a given filter. This method shall be called by a public get_count_by_filter method from child class that receives FilterParams and converts them into a filter function.  <a href="#a0d4908817ea2e4486479c1bed5ba5d63">More...</a><br /></td></tr>
<tr class="separator:a0d4908817ea2e4486479c1bed5ba5d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692fd5e425b8ce8e89107da8ab61b9d2"><td class="memItemLeft" align="right" valign="top">virtual async Task&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a692fd5e425b8ce8e89107da8ab61b9d2">GetOneRandomAsync</a> (string correlationId, FilterDefinition&lt; T &gt; filterDefinition)</td></tr>
<tr class="memdesc:a692fd5e425b8ce8e89107da8ab61b9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a random item from items that match to a given filter.  <a href="#a692fd5e425b8ce8e89107da8ab61b9d2">More...</a><br /></td></tr>
<tr class="separator:a692fd5e425b8ce8e89107da8ab61b9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0eb8c2bd2ba5375ba1da96296183922"><td class="memItemLeft" align="right" valign="top">virtual async Task&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ae0eb8c2bd2ba5375ba1da96296183922">CreateAsync</a> (string correlationId, T item)</td></tr>
<tr class="memdesc:ae0eb8c2bd2ba5375ba1da96296183922"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a data item.  <a href="#ae0eb8c2bd2ba5375ba1da96296183922">More...</a><br /></td></tr>
<tr class="separator:ae0eb8c2bd2ba5375ba1da96296183922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa8210d4f007d68ac3829ea9bc881c3"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a1fa8210d4f007d68ac3829ea9bc881c3">DeleteByFilterAsync</a> (string correlationId, FilterDefinition&lt; T &gt; filterDefinition)</td></tr>
<tr class="memdesc:a1fa8210d4f007d68ac3829ea9bc881c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes data items that match to a given filter.  <a href="#a1fa8210d4f007d68ac3829ea9bc881c3">More...</a><br /></td></tr>
<tr class="separator:a1fa8210d4f007d68ac3829ea9bc881c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a16fb77d45216c97943778be745ad539f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_connection.html">MongoDbConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a16fb77d45216c97943778be745ad539f">_connection</a></td></tr>
<tr class="memdesc:a16fb77d45216c97943778be745ad539f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespace_pip_services3_1_1_mongo_db.html">MongoDb</a> connection.  <a href="#a16fb77d45216c97943778be745ad539f">More...</a><br /></td></tr>
<tr class="separator:a16fb77d45216c97943778be745ad539f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5264b6fa0887494776317a8844269081"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a5264b6fa0887494776317a8844269081">_collectionName</a></td></tr>
<tr class="memdesc:a5264b6fa0887494776317a8844269081"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB colleciton name.  <a href="#a5264b6fa0887494776317a8844269081">More...</a><br /></td></tr>
<tr class="separator:a5264b6fa0887494776317a8844269081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7493987351461f9d502ee2d149c20c7"><td class="memItemLeft" align="right" valign="top">MongoClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ae7493987351461f9d502ee2d149c20c7">_client</a></td></tr>
<tr class="memdesc:ae7493987351461f9d502ee2d149c20c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB client object.  <a href="#ae7493987351461f9d502ee2d149c20c7">More...</a><br /></td></tr>
<tr class="separator:ae7493987351461f9d502ee2d149c20c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d2a31c066ce89aa7dcb393bffd4a3c"><td class="memItemLeft" align="right" valign="top">IMongoDatabase&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ae8d2a31c066ce89aa7dcb393bffd4a3c">_database</a></td></tr>
<tr class="memdesc:ae8d2a31c066ce89aa7dcb393bffd4a3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB database.  <a href="#ae8d2a31c066ce89aa7dcb393bffd4a3c">More...</a><br /></td></tr>
<tr class="separator:ae8d2a31c066ce89aa7dcb393bffd4a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1427e6d5428746f470eec720423ccd"><td class="memItemLeft" align="right" valign="top">IMongoCollection&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aed1427e6d5428746f470eec720423ccd">_collection</a></td></tr>
<tr class="memdesc:aed1427e6d5428746f470eec720423ccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB colleciton object.  <a href="#aed1427e6d5428746f470eec720423ccd">More...</a><br /></td></tr>
<tr class="separator:aed1427e6d5428746f470eec720423ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118a48c1fe415964ab3f572427d86527"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a118a48c1fe415964ab3f572427d86527">_maxPageSize</a> = 100</td></tr>
<tr class="memdesc:a118a48c1fe415964ab3f572427d86527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum page size  <a href="#a118a48c1fe415964ab3f572427d86527">More...</a><br /></td></tr>
<tr class="separator:a118a48c1fe415964ab3f572427d86527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573647a35067115a8e7c829459613582"><td class="memItemLeft" align="right" valign="top">DependencyResolver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a573647a35067115a8e7c829459613582">_dependencyResolver</a></td></tr>
<tr class="memdesc:a573647a35067115a8e7c829459613582"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dependency resolver.  <a href="#a573647a35067115a8e7c829459613582">More...</a><br /></td></tr>
<tr class="separator:a573647a35067115a8e7c829459613582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3aecf745ba9dfeca4d6b69efd2378d5"><td class="memItemLeft" align="right" valign="top">CompositeLogger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#af3aecf745ba9dfeca4d6b69efd2378d5">_logger</a> = new CompositeLogger()</td></tr>
<tr class="memdesc:af3aecf745ba9dfeca4d6b69efd2378d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger.  <a href="#af3aecf745ba9dfeca4d6b69efd2378d5">More...</a><br /></td></tr>
<tr class="separator:af3aecf745ba9dfeca4d6b69efd2378d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a00a384902dbf13a6eb099ca39d21a3c6"><td class="memItemLeft" align="right" valign="top"><a id="a00a384902dbf13a6eb099ca39d21a3c6"></a>
<a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_connection.html">MongoDbConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><b>CreateLocalConnection</b> ()</td></tr>
<tr class="separator:a00a384902dbf13a6eb099ca39d21a3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8de6da70d836692dd8a431995ed329eb"><td class="memItemLeft" align="right" valign="top">ConfigParams&#160;</td><td class="memItemRight" valign="bottom"><b>_defaultConfig</b></td></tr>
<tr class="separator:a8de6da70d836692dd8a431995ed329eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0213a1d9a121293532895a692fbd3a2f"><td class="memItemLeft" align="right" valign="top"><a id="a0213a1d9a121293532895a692fbd3a2f"></a>
ConfigParams&#160;</td><td class="memItemRight" valign="bottom"><b>_config</b></td></tr>
<tr class="separator:a0213a1d9a121293532895a692fbd3a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b90a431874a5c7637ac6c51bfd23ff"><td class="memItemLeft" align="right" valign="top"><a id="a88b90a431874a5c7637ac6c51bfd23ff"></a>
IReferences&#160;</td><td class="memItemRight" valign="bottom"><b>_references</b></td></tr>
<tr class="separator:a88b90a431874a5c7637ac6c51bfd23ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddab5c10f5c93a33cce3c1e20e30068"><td class="memItemLeft" align="right" valign="top"><a id="a0ddab5c10f5c93a33cce3c1e20e30068"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_localConnection</b></td></tr>
<tr class="separator:a0ddab5c10f5c93a33cce3c1e20e30068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3962fceebc0b5c6835066eb4d21af7ff"><td class="memItemLeft" align="right" valign="top"><a id="a3962fceebc0b5c6835066eb4d21af7ff"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_opened</b></td></tr>
<tr class="separator:a3962fceebc0b5c6835066eb4d21af7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract persistence component that stores data in MongoDB using the official MongoDB driver. </p>
<p>This is the most basic persistence component that is only able to store data items of any type.Specific CRUD operations over the data items must be implemented in child classes by accessing <code>this._collection</code> or <code>this._model</code> properties.</p>
<ul>
<li>collection: (optional) MongoDB collection name</li>
</ul>
<p>connection(s):</p><ul>
<li>discovery_key: (optional) a key to retrieve the connection from <a href="https://pip-services3-dotnet.github.io/pip-services3-components-dotnet/interface_pip_services_1_1_components_1_1_connect_1_1_i_discovery.html">IDiscovery</a></li>
<li>host: host name or IP address</li>
<li>port: port number (default: 27017)</li>
<li>uri: resource URI or connection string with all parameters in it</li>
</ul>
<p>credential(s):</p><ul>
<li>store_key: (optional) a key to retrieve the credentials from <a href="https://pip-services3-dotnet.github.io/pip-services3-components-dotnet/interface_pip_services_1_1_components_1_1_auth_1_1_i_credential_store.html">ICredentialStore</a></li>
<li>username: (optional) user name</li>
<li>password: (optional) user password</li>
</ul>
<p>options:</p><ul>
<li>max_pool_size: (optional) maximum connection pool size (default: 2)</li>
<li>keep_alive: (optional) enable connection keep alive (default: true)</li>
<li>connect_timeout: (optional) connection timeout in milliseconds (default: 5 sec)</li>
<li>auto_reconnect: (optional) enable auto reconnection (default: true)</li>
<li>max_page_size: (optional) maximum page size (default: 100)</li>
<li>debug: (optional) enable debug output (default: false).</li>
</ul>
<ul>
<li>*:logger:*:*:1.0 (optional) <a href="https://pip-services3-dotnet.github.io/pip-services3-components-dotnet/interface_pip_services_1_1_components_1_1_log_1_1_i_logger.html">ILogger</a> components to pass log messages</li>
<li>*:discovery:*:*:1.0 (optional) <a href="https://pip-services3-dotnet.github.io/pip-services3-components-dotnet/interface_pip_services_1_1_components_1_1_connect_1_1_i_discovery.html">IDiscovery</a> services</li>
<li>*:credential-store:*:*:1.0 (optional) Credential stores to resolve credentials </li>
</ul>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>the class type</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyMongoDbPersistence: <a class="code" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ac9e761f90305d58b651b134dcd76a98c">MongoDbPersistence</a>&lt;MyData&gt; </div><div class="line">{</div><div class="line">    <span class="keyword">public</span> MyMongoDbPersistence()</div><div class="line">    {</div><div class="line">        base(<span class="stringliteral">&quot;mydata&quot;</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> MyData getByName(<span class="keywordtype">string</span> correlationId, <span class="keywordtype">string</span> name)</div><div class="line">    {</div><div class="line">        var builder = Builders&lt;BeaconV1&gt;.Filter;</div><div class="line">        var filter = builder.Eq(x =&gt; x.Name, name);</div><div class="line">        var result = await <a class="code" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aed1427e6d5428746f470eec720423ccd">_collection</a>.Find(filter).FirstOrDefaultAsync();</div><div class="line">        <span class="keywordflow">return</span> result;</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> MyData <span class="keyword">set</span>(String correlatonId, MyData item)</div><div class="line">    {</div><div class="line">        var filter = Builders&lt;T&gt;.Filter.Eq(x =&gt; x.Id, item.Id);</div><div class="line">        var options = <span class="keyword">new</span> FindOneAndReplaceOptions&lt;T&gt;</div><div class="line">        {</div><div class="line">            ReturnDocument = ReturnDocument.After,</div><div class="line">            IsUpsert = <span class="keyword">true</span></div><div class="line">        };</div><div class="line">        var result = await <a class="code" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aed1427e6d5428746f470eec720423ccd">_collection</a>.FindOneAndReplaceAsync(filter, item, options);</div><div class="line">        <span class="keywordflow">return</span> result;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">var persistence = <span class="keyword">new</span> MyMongoDbPersistence();</div><div class="line">persistence.Configure(ConfigParams.fromTuples(</div><div class="line"><span class="stringliteral">&quot;host&quot;</span>, <span class="stringliteral">&quot;localhost&quot;</span>,</div><div class="line"><span class="stringliteral">&quot;port&quot;</span>, 27017 ));</div><div class="line"></div><div class="line">persitence.Open(<span class="stringliteral">&quot;123&quot;</span>);</div><div class="line">var mydata = <span class="keyword">new</span> MyData(<span class="stringliteral">&quot;ABC&quot;</span>);</div><div class="line">persistence.Set(<span class="stringliteral">&quot;123&quot;</span>, mydata);</div><div class="line">persistence.GetByName(<span class="stringliteral">&quot;123&quot;</span>, <span class="stringliteral">&quot;ABC&quot;</span>);</div><div class="line">Console.Out.WriteLine(item);                   <span class="comment">// Result: { name: &quot;ABC&quot; }</span></div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac9e761f90305d58b651b134dcd76a98c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e761f90305d58b651b134dcd76a98c">&#9670;&nbsp;</a></span>MongoDbPersistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.<a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">MongoDbPersistence</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>collectionName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new instance of the persistence component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collectionName</td><td>(optional) a collection name.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af51639f1bc144815f5d6cf56a330affc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af51639f1bc144815f5d6cf56a330affc">&#9670;&nbsp;</a></span>ClearAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.ClearAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears component state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae921b9949493fa24035a05fb77c9a61e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae921b9949493fa24035a05fb77c9a61e">&#9670;&nbsp;</a></span>CloseAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.CloseAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes component and frees used resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa99258440fb07e25ebf5606847e756ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99258440fb07e25ebf5606847e756ce">&#9670;&nbsp;</a></span>Configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.Configure </td>
          <td>(</td>
          <td class="paramtype">ConfigParams&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures component by passing configuration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>configuration parameters to be set.</td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_partition_mongo_db_persistence.html#a3aacbebd990a2fe5f20b996fa2e59d1c">PipServices3.MongoDb.Persistence.PartitionMongoDbPersistence&lt; T, K &gt;</a>.</p>

</div>
</div>
<a id="ae0eb8c2bd2ba5375ba1da96296183922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0eb8c2bd2ba5375ba1da96296183922">&#9670;&nbsp;</a></span>CreateAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task&lt;T&gt; <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.CreateAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a data item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">item</td><td>an item to be created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>created item.</dd></dl>

<p>Reimplemented in <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_identifiable_mongo_db_persistence.html#a991997cae21c00ac81d60e891c2d27fe">PipServices3.MongoDb.Persistence.IdentifiableMongoDbPersistence&lt; T, K &gt;</a>.</p>

</div>
</div>
<a id="a1fa8210d4f007d68ac3829ea9bc881c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa8210d4f007d68ac3829ea9bc881c3">&#9670;&nbsp;</a></span>DeleteByFilterAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.DeleteByFilterAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FilterDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>filterDefinition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes data items that match to a given filter. </p>
<p>This method shall be called by a public deleteByFilter method from child class that receives FilterParams and converts them into a filter function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">filterDefinition</td><td>(optional) a filter JSON object.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d4908817ea2e4486479c1bed5ba5d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4908817ea2e4486479c1bed5ba5d63">&#9670;&nbsp;</a></span>GetCountByFilterAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task&lt;long&gt; <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.GetCountByFilterAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FilterDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>filterDefinition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a number of data items retrieved by a given filter. This method shall be called by a public get_count_by_filter method from child class that receives FilterParams and converts them into a filter function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">filterDefinition</td><td>(optional) a filter JSON object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a number of filtered items.</dd></dl>

</div>
</div>
<a id="ac25792316934892e0f0454ab8b3d9554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25792316934892e0f0454ab8b3d9554">&#9670;&nbsp;</a></span>GetListByFilterAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task&lt;List&lt;T&gt; &gt; <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.GetListByFilterAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FilterDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>filterDefinition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SortDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>sortDefinition</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a list of data items retrieved by a given filter and sorted according to sort parameters. </p>
<p>This method shall be called by a public getListByFilter method from child class that receives FilterParams and converts them into a filter function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">filterDefinition</td><td>(optional) a filter JSON object</td></tr>
    <tr><td class="paramname">sortDefinition</td><td>(optional) sorting JSON object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a692fd5e425b8ce8e89107da8ab61b9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692fd5e425b8ce8e89107da8ab61b9d2">&#9670;&nbsp;</a></span>GetOneRandomAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task&lt;T&gt; <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.GetOneRandomAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FilterDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>filterDefinition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a random item from items that match to a given filter. </p>
<p>This method shall be called by a public getOneRandom method from child class that receives FilterParams and converts them into a filter function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">filterDefinition</td><td>(optional) a filter JSON object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a random item by filter.</dd></dl>

</div>
</div>
<a id="aa7f68a04c0e2746647fedf606d9f10de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7f68a04c0e2746647fedf606d9f10de">&#9670;&nbsp;</a></span>GetPageByFilterAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task&lt;DataPage&lt;T&gt; &gt; <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.GetPageByFilterAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FilterDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>filterDefinition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PagingParams&#160;</td>
          <td class="paramname"><em>paging</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SortDefinition&lt; T &gt;&#160;</td>
          <td class="paramname"><em>sortDefinition</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a page of data items retrieved by a given filter and sorted according to sort parameters. </p>
<p>This method shall be called by a public getPageByFilter method from child class that receives FilterParams and converts them into a filter function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">filterDefinition</td><td>(optional) a filter JSON object</td></tr>
    <tr><td class="paramname">paging</td><td>(optional) paging parameters</td></tr>
    <tr><td class="paramname">sortDefinition</td><td>(optional) sorting JSON object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>data page of results by filter.</dd></dl>

</div>
</div>
<a id="a369338252297f12b59766d853b4c265d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369338252297f12b59766d853b4c265d">&#9670;&nbsp;</a></span>IsOpen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.IsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the component is opened. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the component has been opened and false otherwise.</dd></dl>

</div>
</div>
<a id="a0bc2ef4b8af953d86d3ff1140b4b63e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc2ef4b8af953d86d3ff1140b4b63e4">&#9670;&nbsp;</a></span>OpenAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.OpenAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8437dd9311676e495ba605187ffb225e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8437dd9311676e495ba605187ffb225e">&#9670;&nbsp;</a></span>SetReferences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.SetReferences </td>
          <td>(</td>
          <td class="paramtype">IReferences&#160;</td>
          <td class="paramname"><em>references</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets references to dependent components. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">references</td><td>references to locate the component dependencies.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a622669b0551a4f0dd26a3af5c3a2a04a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a622669b0551a4f0dd26a3af5c3a2a04a">&#9670;&nbsp;</a></span>UnsetReferences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.UnsetReferences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unsets (clears) previously set references to dependent components. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae7493987351461f9d502ee2d149c20c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7493987351461f9d502ee2d149c20c7">&#9670;&nbsp;</a></span>_client</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MongoClient <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._client</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB client object. </p>

</div>
</div>
<a id="aed1427e6d5428746f470eec720423ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1427e6d5428746f470eec720423ccd">&#9670;&nbsp;</a></span>_collection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IMongoCollection&lt;T&gt; <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._collection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB colleciton object. </p>

</div>
</div>
<a id="a5264b6fa0887494776317a8844269081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5264b6fa0887494776317a8844269081">&#9670;&nbsp;</a></span>_collectionName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._collectionName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB colleciton name. </p>

</div>
</div>
<a id="a16fb77d45216c97943778be745ad539f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16fb77d45216c97943778be745ad539f">&#9670;&nbsp;</a></span>_connection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_connection.html">MongoDbConnection</a> <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="namespace_pip_services3_1_1_mongo_db.html">MongoDb</a> connection. </p>

</div>
</div>
<a id="ae8d2a31c066ce89aa7dcb393bffd4a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d2a31c066ce89aa7dcb393bffd4a3c">&#9670;&nbsp;</a></span>_database</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IMongoDatabase <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._database</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB database. </p>

</div>
</div>
<a id="a8de6da70d836692dd8a431995ed329eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de6da70d836692dd8a431995ed329eb">&#9670;&nbsp;</a></span>_defaultConfig</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConfigParams <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._defaultConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= ConfigParams.FromTuples(</div><div class="line">            <span class="stringliteral">&quot;options.poll_size&quot;</span>, 4,</div><div class="line">            <span class="stringliteral">&quot;options.keep_alive&quot;</span>, 1,</div><div class="line">            <span class="stringliteral">&quot;options.connect_timeout&quot;</span>, 5000,</div><div class="line">            <span class="stringliteral">&quot;options.auto_reconnect&quot;</span>, <span class="keyword">true</span>,</div><div class="line">            <span class="stringliteral">&quot;options.max_page_size&quot;</span>, 100,</div><div class="line">            <span class="stringliteral">&quot;options.debug&quot;</span>, <span class="keyword">true</span></div><div class="line">        )</div></div><!-- fragment -->
</div>
</div>
<a id="a573647a35067115a8e7c829459613582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a573647a35067115a8e7c829459613582">&#9670;&nbsp;</a></span>_dependencyResolver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DependencyResolver <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._dependencyResolver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> DependencyResolver(</div><div class="line">            ConfigParams.FromTuples(</div><div class="line">                <span class="stringliteral">&quot;dependencies.connection&quot;</span>, <span class="stringliteral">&quot;pip-services:connection:mongodb:*:1.0&quot;</span></div><div class="line">            )</div><div class="line">        )</div></div><!-- fragment -->
<p>The dependency resolver. </p>

</div>
</div>
<a id="af3aecf745ba9dfeca4d6b69efd2378d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3aecf745ba9dfeca4d6b69efd2378d5">&#9670;&nbsp;</a></span>_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CompositeLogger <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._logger = new CompositeLogger()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The logger. </p>

</div>
</div>
<a id="a118a48c1fe415964ab3f572427d86527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118a48c1fe415964ab3f572427d86527">&#9670;&nbsp;</a></span>_maxPageSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_pip_services3_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices3.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._maxPageSize = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum page size </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Persistence/MongoDbPersistence.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
